(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[25],{41805:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/customers/[customerId]/edit",function(){return r(88990)}])},94437:function(e,t,r){"use strict";r.d(t,{v:function(){return f}});var a=r(51438),n=r(37316),i=r(79498),s=r(46263),o=r(7069),c=r(88330),d=r(1784),u=r(33511),l=new Date,h=[{id:"5e887ac47eed253091be10cb",avatar:"/assets/avatars/avatar-carson-darrin.png",city:"Cleveland",country:"USA",currency:"$",email:"carson.darrin@devias.io",hasAcceptedMarketing:!0,isProspect:!1,isReturning:!0,name:"Carson Darrin",state:"Ohio",totalSpent:300,totalOrders:3,updatedAt:(0,o.Z)((0,c.Z)(l,7),1).getTime()},{id:"5e887b209c28ac3dd97f6db5",avatar:"/assets/avatars/avatar-fran-perez.png",city:"Atlanta",country:"USA",currency:"$",email:"fran.perez@devias.io",hasAcceptedMarketing:!0,isProspect:!0,isReturning:!1,name:"Fran Perez",state:"Georgia",totalSpent:0,totalOrders:0,updatedAt:(0,o.Z)((0,c.Z)(l,1),2).getTime()},{id:"5e887b7602bdbc4dbb234b27",avatar:"/assets/avatars/avatar-jie-yan-song.png",city:"North Canton",country:"USA",currency:"$",email:"jie.yan.song@devias.io",hasAcceptedMarketing:!1,isProspect:!1,isReturning:!1,name:"Jie Yan Song",state:"Ohio",totalSpent:5600,totalOrders:6,updatedAt:(0,o.Z)((0,c.Z)(l,4),2).getTime()},{id:"5e86809283e28b96d2d38537",avatar:"/assets/avatars/avatar-anika-visser.png",city:"Madrid",country:"Spain",currency:"$",email:"anika.visser@devias.io",hasAcceptedMarketing:!0,isProspect:!1,isReturning:!0,name:"Anika Visser",state:"Madrid",totalSpent:500,totalOrders:1,updatedAt:(0,o.Z)((0,c.Z)(l,11),2).getTime()},{id:"5e86805e2bafd54f66cc95c3",avatar:"/assets/avatars/avatar-miron-vitold.png",city:"San Diego",country:"USA",currency:"$",email:"miron.vitold@devias.io",hasAcceptedMarketing:!0,isProspect:!0,isReturning:!1,name:"Miron Vitold",totalSpent:0,totalOrders:0,state:"California",updatedAt:(0,o.Z)((0,c.Z)(l,7),3).getTime()},{id:"5e887a1fbefd7938eea9c981",avatar:"/assets/avatars/avatar-penjani-inyene.png",city:"Berkeley",country:"USA",currency:"$",email:"penjani.inyene@devias.io",hasAcceptedMarketing:!1,isProspect:!0,isReturning:!1,name:"Penjani Inyene",state:"California",totalSpent:0,totalOrders:0,updatedAt:(0,o.Z)((0,c.Z)(l,5),4).getTime()},{id:"5e887d0b3d090c1b8f162003",avatar:"/assets/avatars/avatar-omar-darboe.png",currency:"$",email:"omar.darobe@devias.io",hasAcceptedMarketing:!0,isProspect:!1,isReturning:!1,city:"Carson City",country:"USA",name:"Omar Darobe",state:"Nevada",totalSpent:100,totalOrders:4,updatedAt:(0,o.Z)((0,c.Z)(l,15),4).getTime()},{id:"5e88792be2d4cfb4bf0971d9",avatar:"/assets/avatars/avatar-siegbert-gottfried.png",city:"Los Angeles",country:"USA",currency:"$",email:"siegbert.gottfried@devias.io",hasAcceptedMarketing:!0,isProspect:!1,isReturning:!0,name:"Siegbert Gottfried",state:"California",totalSpent:1e3,totalOrders:2,updatedAt:(0,o.Z)((0,c.Z)(l,2),5).getTime()},{id:"5e8877da9a65442b11551975",avatar:"/assets/avatars/avatar-iulia-albu.png",city:"Murray",country:"USA",email:"iulia.albu@devias.io",hasAcceptedMarketing:!0,isProspect:!0,isReturning:!1,name:"Iulia Albu",state:"Utah",totalSpent:0,totalOrders:0,updatedAt:(0,o.Z)((0,c.Z)(l,8),6).getTime()},{id:"5e8680e60cba5019c5ca6fda",avatar:"/assets/avatars/avatar-nasimiyu-danai.png",city:"Salt Lake City",country:"USA",currency:"$",email:"nasimiyu.danai@devias.io",hasAcceptedMarketing:!1,isProspect:!1,isReturning:!0,name:"Nasimiyu Danai",state:"Utah",totalSpent:200,totalOrders:7,updatedAt:(0,o.Z)((0,c.Z)(l,1),9).getTime()}],m={id:"5e86805e2bafd54f66cc95c3",address1:"Street John Wick, no. 7",address2:"House #25",avatar:"/assets/avatars/avatar-miron-vitold.png",balance:0,city:"San Diego",country:"USA",currency:"$",email:"miron.vitold@devias.io",hasDiscount:!1,isVerified:!0,name:"Miron Vitold",phone:"+55 748 327 439",state:"New York",vatRate:19,zipCode:"240355"},p=[{id:"5ece2ce3613486d95ffaea58",createdAt:(0,o.Z)((0,c.Z)((0,d.Z)(l,34),5),3).getTime(),description:"Order confirmation"},{id:"5ece2ce8cebf7ad1d100c0cd",createdAt:(0,o.Z)((0,c.Z)((0,d.Z)(l,49),11),4).getTime(),description:"Order confirmation"}],g=[{id:"528651571NT",issueDate:l.getTime(),status:"paid",amount:1358.75},{id:"311658671JR",issueDate:l.getTime(),status:"unpaid",amount:1451.75}],v=[{id:"5ece2cfeb6e2ac847bba11ce",createdAt:(0,o.Z)((0,d.Z)((0,u.Z)(l,56),2),2).getTime(),description:"Purchase",ip:"84.234.243.42",method:"POST",route:"/api/purchase",status:200},{id:"5ece2d02510484b2952e1e05",createdAt:(0,o.Z)((0,d.Z)((0,u.Z)(l,56),2),2).getTime(),description:"Purchase",ip:"84.234.243.42",method:"POST",route:"/api/purchase",status:522},{id:"5ece2d08e2748e4e9788901a",createdAt:(0,o.Z)((0,d.Z)((0,u.Z)(l,23),8),2).getTime(),description:"Cart remove",ip:"84.234.243.42",method:"DELETE",route:"/api/products/d65654e/remove",status:200},{id:"5ece2d0c47214e342c2d7f28",createdAt:(0,o.Z)((0,d.Z)((0,u.Z)(l,54),20),2).getTime(),description:"Cart add",ip:"84.234.243.42",method:"GET",route:"/api/products/d65654e/add",status:200},{id:"5ece2d11e4060a97b2b57623",createdAt:(0,o.Z)((0,d.Z)((0,u.Z)(l,16),34),2).getTime(),description:"Cart add",ip:"84.234.243.42",method:"GET",route:"/api/products/c85727f/add",status:200},{id:"5ece2d16cf6d53d8e33656af",createdAt:(0,o.Z)((0,d.Z)((0,u.Z)(l,30),54),2).getTime(),description:"View product",ip:"84.234.243.42",method:"GET",route:"/api/products/c85727f",status:200},{id:"5ece2d1b2ec5071be9286a96",createdAt:(0,o.Z)((0,d.Z)((0,u.Z)(l,40),56),2).getTime(),description:"Get products",ip:"84.234.243.42",method:"GET",route:"/api/products",status:200},{id:"5ece2d22e68d5498917e47bc",createdAt:(0,o.Z)((0,d.Z)((0,u.Z)(l,5),57),2).getTime(),description:"Login",ip:"84.234.243.42",method:"POST",route:"/api/auth/login",status:200}],f=new(function(){function e(){(0,a.Z)(this,e)}var t=e.prototype;return t.getCustomers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filters,r=e.page,a=e.rowsPerPage,o=e.sortBy,c=e.sortDir,d=(0,s.p)(h),u=d.length;return void 0!==t&&(u=(d=d.filter(function(e){if(void 0!==t.query&&""!==t.query){var r=!1;if(["email","name"].forEach(function(a){e[a].toLowerCase().includes(t.query.toLowerCase())&&(r=!0)}),!r)return!1}return(void 0===t.hasAcceptedMarketing||e.hasAcceptedMarketing===t.hasAcceptedMarketing)&&(void 0===t.isProspect||e.isProspect===t.isProspect)&&(void 0===t.isReturning||e.isReturning===t.isReturning)})).length),void 0!==o&&void 0!==c&&(d=(0,i.v)(d,o,c)),void 0!==r&&void 0!==a&&(d=(0,n.i)(d,r,a)),Promise.resolve({data:d,count:u})},t.getCustomer=function(e){return Promise.resolve((0,s.p)(m))},t.getEmails=function(e){return Promise.resolve((0,s.p)(p))},t.getInvoices=function(e){return Promise.resolve((0,s.p)(g))},t.getLogs=function(e){return Promise.resolve((0,s.p)(v))},e}())},75825:function(e,t,r){"use strict";r.d(t,{s:function(){return n}});var a=r(67294),n=function(){var e=(0,a.useRef)(!1);return(0,a.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),(0,a.useCallback)(function(){return e.current},[])}},12457:function(e,t,r){"use strict";r.d(t,{a:function(){return i}});var a=r(67294),n=r(39548),i=function(){(0,a.useEffect)(function(){n.w.push({event:"page_view"})},[])}},88990:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return X}});var a=r(47568),n=r(828),i=r(70655),s=r(85893),o=r(67294),c=r(41664),d=r.n(c),u=r(9008),l=r.n(u),h=r(30136),m=r(87357),p=r(65582),g=r(26447),v=r(23795),f=r(53219),Z=r(15861),x=r(87952),b=r(87918),y=r(94437),j=r(75825),A=r(12457),C=r(47986),T=r(94690),S=r(26042),w=r(69396),P=r(99534),k=r(45697),_=r.n(k),O=r(86501),D=r(74231),E=r(82175),M=r(66242),R=r(78445),B=r(44267),U=r(81426),V=r(93155),q=r(67720),I=r(45843),N=r(11057),W=r(20011),$=function(e){var t,r=e.customer,n=(0,P.Z)(e,["customer"]),o=(0,E.TA)({initialValues:{address1:r.address1||"",address2:r.address2||"",country:r.country||"",email:r.email||"",hasDiscount:r.hasDiscount||!1,isVerified:r.isVerified||!1,name:r.name||"",phone:r.phone||"",state:r.state||"",submit:null},validationSchema:D.Ry({address1:D.Z_().max(255),address2:D.Z_().max(255),country:D.Z_().max(255),email:D.Z_().email("Must be a valid email").max(255).required("Email is required"),hasDiscount:D.Xg(),isVerified:D.Xg(),name:D.Z_().max(255).required("Name is required"),phone:D.Z_().max(15),state:D.Z_().max(255)}),onSubmit:(t=(0,a.Z)(function(e,t){var r;return(0,i.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(0,W.D)(500)];case 1:return e.sent(),t.setStatus({success:!0}),t.setSubmitting(!1),O.ZP.success("Customer updated"),[3,3];case 2:return console.error(r=e.sent()),O.ZP.error("Something went wrong!"),t.setStatus({success:!1}),t.setErrors({submit:r.message}),t.setSubmitting(!1),[3,3];case 3:return[2]}})}),function(e,r){return t.apply(this,arguments)})});return(0,s.jsx)("form",(0,w.Z)((0,S.Z)({onSubmit:o.handleSubmit},n),{children:(0,s.jsxs)(M.Z,{children:[(0,s.jsx)(R.Z,{title:"Edit Customer"}),(0,s.jsxs)(B.Z,{sx:{pt:0},children:[(0,s.jsxs)(U.Z,{container:!0,spacing:3,children:[(0,s.jsx)(U.Z,{xs:12,md:6,children:(0,s.jsx)(V.Z,{error:!!(o.touched.name&&o.errors.name),fullWidth:!0,helperText:o.touched.name&&o.errors.name,label:"Full name",name:"name",onBlur:o.handleBlur,onChange:o.handleChange,required:!0,value:o.values.name})}),(0,s.jsx)(U.Z,{xs:12,md:6,children:(0,s.jsx)(V.Z,{error:!!(o.touched.email&&o.errors.email),fullWidth:!0,helperText:o.touched.email&&o.errors.email,label:"Email address",name:"email",onBlur:o.handleBlur,onChange:o.handleChange,required:!0,value:o.values.email})}),(0,s.jsx)(U.Z,{xs:12,md:6,children:(0,s.jsx)(V.Z,{error:!!(o.touched.country&&o.errors.country),fullWidth:!0,helperText:o.touched.country&&o.errors.country,label:"Country",name:"country",onBlur:o.handleBlur,onChange:o.handleChange,value:o.values.country})}),(0,s.jsx)(U.Z,{xs:12,md:6,children:(0,s.jsx)(V.Z,{error:!!(o.touched.state&&o.errors.state),fullWidth:!0,helperText:o.touched.state&&o.errors.state,label:"State/Region",name:"state",onBlur:o.handleBlur,onChange:o.handleChange,value:o.values.state})}),(0,s.jsx)(U.Z,{xs:12,md:6,children:(0,s.jsx)(V.Z,{error:!!(o.touched.address1&&o.errors.address1),fullWidth:!0,helperText:o.touched.address1&&o.errors.address1,label:"Address 1",name:"address1",onBlur:o.handleBlur,onChange:o.handleChange,value:o.values.address1})}),(0,s.jsx)(U.Z,{xs:12,md:6,children:(0,s.jsx)(V.Z,{error:!!(o.touched.address2&&o.errors.address2),fullWidth:!0,helperText:o.touched.address2&&o.errors.address2,label:"Address 2",name:"address2",onBlur:o.handleBlur,onChange:o.handleChange,value:o.values.address2})}),(0,s.jsx)(U.Z,{xs:12,md:6,children:(0,s.jsx)(V.Z,{error:!!(o.touched.phone&&o.errors.phone),fullWidth:!0,helperText:o.touched.phone&&o.errors.phone,label:"Phone number",name:"phone",onBlur:o.handleBlur,onChange:o.handleChange,value:o.values.phone})})]}),(0,s.jsxs)(g.Z,{divider:(0,s.jsx)(q.Z,{}),spacing:3,sx:{mt:3},children:[(0,s.jsxs)(g.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,children:[(0,s.jsxs)(g.Z,{spacing:1,children:[(0,s.jsx)(Z.Z,{gutterBottom:!0,variant:"subtitle1",children:"Make Contact Info Public"}),(0,s.jsx)(Z.Z,{color:"text.secondary",variant:"body2",children:"Means that anyone viewing your profile will be able to see your contacts details"})]}),(0,s.jsx)(I.Z,{checked:o.values.isVerified,color:"primary",edge:"start",name:"isVerified",onChange:o.handleChange,value:o.values.isVerified})]}),(0,s.jsxs)(g.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,children:[(0,s.jsxs)(g.Z,{spacing:1,children:[(0,s.jsx)(Z.Z,{gutterBottom:!0,variant:"subtitle1",children:"Available to hire"}),(0,s.jsx)(Z.Z,{color:"text.secondary",variant:"body2",children:"Toggling this will let your teammates know that you are available for acquiring new projects"})]}),(0,s.jsx)(I.Z,{checked:o.values.hasDiscount,color:"primary",edge:"start",name:"hasDiscount",onChange:o.handleChange,value:o.values.hasDiscount})]})]})]}),(0,s.jsxs)(g.Z,{direction:{xs:"column",sm:"row"},flexWrap:"wrap",spacing:3,sx:{p:3},children:[(0,s.jsx)(N.Z,{disabled:o.isSubmitting,type:"submit",variant:"contained",children:"Update"}),(0,s.jsx)(N.Z,{color:"inherit",component:d(),disabled:o.isSubmitting,href:T.H.dashboard.customers.details,children:"Cancel"})]})]})}))};$.propTypes={customer:_().object.isRequired};var G=r(36385),L=function(){var e=(0,j.s)(),t=(0,n.Z)((0,o.useState)(null),2),r=t[0],s=t[1],c=(0,o.useCallback)((0,a.Z)(function(){var t;return(0,i.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,y.v.getCustomer()];case 1:return t=r.sent(),e()&&s(t),[3,3];case 2:return console.error(r.sent()),[3,3];case 3:return[2]}})}),[e]);return(0,o.useEffect)(function(){c()},[]),r},z=function(){var e=L();return((0,A.a)(),e)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l(),{children:(0,s.jsx)("title",{children:"Dashboard: Customer Edit | Devias Kit PRO"})}),(0,s.jsx)(m.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,s.jsx)(p.Z,{maxWidth:"lg",children:(0,s.jsxs)(g.Z,{spacing:4,children:[(0,s.jsxs)(g.Z,{spacing:4,children:[(0,s.jsx)("div",{children:(0,s.jsxs)(v.Z,{color:"text.primary",component:d(),href:T.H.dashboard.customers.index,sx:{alignItems:"center",display:"inline-flex"},underline:"hover",children:[(0,s.jsx)(f.Z,{sx:{mr:1},children:(0,s.jsx)(h.Z,{})}),(0,s.jsx)(Z.Z,{variant:"subtitle2",children:"Customers"})]})}),(0,s.jsx)(g.Z,{alignItems:"flex-start",direction:{xs:"column",md:"row"},justifyContent:"space-between",spacing:4,children:(0,s.jsxs)(g.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,s.jsx)(x.Z,{src:e.avatar,sx:{height:64,width:64},children:(0,G.Q)(e.name)}),(0,s.jsxs)(g.Z,{spacing:1,children:[(0,s.jsx)(Z.Z,{variant:"h4",children:e.email}),(0,s.jsxs)(g.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,s.jsx)(Z.Z,{variant:"subtitle2",children:"user_id:"}),(0,s.jsx)(b.Z,{label:e.id,size:"small"})]})]})]})})]}),(0,s.jsx)($,{customer:e})]})})})]}):null};z.getLayout=function(e){return(0,s.jsx)(C.A,{children:e})};var X=z},37316:function(e,t,r){"use strict";function a(e,t,r){return e.slice(t*r,t*r+r)}r.d(t,{i:function(){return a}})},79498:function(e,t,r){"use strict";function a(e,t,r){return t[r]<e[r]?-1:t[r]>e[r]?1:0}function n(e,t,r){var n="desc"===r?function(e,r){return a(e,r,t)}:function(e,r){return-a(e,r,t)},i=e.map(function(e,t){return[e,t]});return i.sort(function(e,t){var r=n(e[0],t[0]);return 0!==r?r:e[1]-t[1]}),i.map(function(e){return e[0]})}r.d(t,{v:function(){return n}})},46263:function(e,t,r){"use strict";r.d(t,{p:function(){return function e(t){return"object"!=typeof t||null===t?t:t instanceof Date?new Date(t.getTime()):t instanceof Array?t.reduce(function(t,r,a){return t[a]=e(r),t},[]):t instanceof Object?Object.keys(t).reduce(function(r,a){return r[a]=e(t[a]),r},{}):void 0}}})},36385:function(e,t,r){"use strict";r.d(t,{Q:function(){return a}});var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/," ").split(" ").slice(0,2).map(function(e){return e&&e[0].toUpperCase()}).join("")}}},function(e){e.O(0,[8926,5978,8471,3155,1273,1220,4411,4824,9384,939,1141,4854,7986,9774,2888,179],function(){return e(e.s=41805)}),_N_E=e.O()}]);